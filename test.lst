   5	00000	COPY	START	0                             		
  10	00000	FIRST	STL	RETADR                        		17202D
  15	00003	 	LDB	#LENGTH                       		69202D
  20	     	 	BASE	LENGTH                        		
  25	00006	CLOOP	+JSUB	RDREC                         		4B101036
  30	0000A	 	LDA	LENGTH                        		032026
  35	0000D	 	COMP	#0                            		290000
  40	00010	 	JEQ	ENDFIL                        		332007
  45	00013	 	+JSUB	WRREC                         		4B10105D
  50	00017	 	J	CLOOP                         		3F2FEC
  55	0001A	ENDFIL	LDA	EOF                           		032010
  60	0001D	 	STA	BUFFER                        		0F2016
  65	00020	 	LDA	#3                            		010003
  70	00023	 	STA	LENGTH                        		0F200D
  75	00026	 	+JSUB	WRREC                         		4B10105D
  80	0002A	 	J	@RETADR                       		3E2003
  85	0002D	EOF	BYTE	C'EOF'                        		454F46
  90	00030	RETADR	RESW	1                             		
  95	00033	LENGTH	RESW	1                             		
 100	00036	BUFFER	RESB	4096                          		
 105		.	
 110		.	SUBROUTINE TO READ RECORD INTO BUFFER 
 115		.	
 120	01036	RDREC	CLEAR	X                             		B410
 125	01038	 	CLEAR	A                             		B400
 130	0103A	 	CLEAR	S                             		B440
 135	0103C	 	+LDT	#4096                         		75101000
 140	01040	RLOOP	TD	INPUT                         		E32019
 145	01043	 	JEQ	RLOOP                         		332FFA
 150	01046	 	RD	INPUT                         		DB2013
 155	01049	 	COMPR	A,S                           		A004
 160	0104B	 	JEQ	EXIT                          		332008
 165	0104E	 	STCH	BUFFER,X                      		57C003
 170	01051	 	TIXR	T                             		B850
 175	01053	 	JLT	RLOOP                         		3B2FEA
 180	01056	EXIT	STX	LENGTH                        		134000
 185	01059	 	RSUB	                              		4F0000
 190	0105C	INPUT	BYTE	X'F1'                         		F1
 195		.	
 200		.	SUBROUTINE TO WRITE RECORD FROM BUFFER 
 205		.	
 210	0105D	WRREC	CLEAR	X                             		B410
 215	0105F	 	LDT	LENGTH                        		774000
 220	01062	WLOOP	TD	OUTPUT                        		E32011
 225	01065	 	JEQ	WLOOP                         		332FFA
 230	01068	 	LDCH	BUFFER,X                      		53C003
 235	0106B	 	WD	OUTPUT                        		DF2008
 240	0106E	 	TIXR	T                             		B850
 245	01070	 	JLT	WLOOP                         		3B2FEF
 250	01073	 	RSUB	                              		4F0000
 255	01076	OUTPUT	BYTE	X'05'                         		05
 260	     	 	END	FIRST                         		
